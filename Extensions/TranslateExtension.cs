using System;\nusing KesifUygulamasiTemplate.Services;\nusing Microsoft.Maui.Controls;\nusing Microsoft.Maui.Controls.Xaml;\n\nnamespace KesifUygulamasiTemplate.Extensions\n{\n    [ContentProperty("Key")]\n    public class TranslateExtension : IMarkupExtension\n    {\n        public string Key { get; set; }\n        public string StringFormat { get; set; }\n\n        public object ProvideValue(IServiceProvider serviceProvider)\n        {\n            if (string.IsNullOrWhiteSpace(Key))\n                return string.Empty;\n\n            var translation = LocalizationService.Instance.GetString(Key);\n\n            if (!string.IsNullOrWhiteSpace(StringFormat))\n                return string.Format(StringFormat, translation);\n\n            return translation;\n        }\n    }\n\n    // Dinamik olarak dil değişiminde otomatik güncellenen çeviri için\n    public class TranslateBindingExtension : IMarkupExtension\n    {\n        public string Key { get; set; }\n        public string StringFormat { get; set; }\n\n        public object ProvideValue(IServiceProvider serviceProvider)\n        {\n            if (string.IsNullOrWhiteSpace(Key))\n                return string.Empty;\n\n            var binding = new Binding(\n                path: $"[{Key}]",\n                mode: BindingMode.OneWay,\n                source: LocalizationService.Instance);\n\n            if (!string.IsNullOrWhiteSpace(StringFormat))\n                binding.StringFormat = StringFormat;\n\n            return binding;\n        }\n    }\n}\n