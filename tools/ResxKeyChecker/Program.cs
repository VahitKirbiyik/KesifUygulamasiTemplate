using System;\nusing System.IO;\nusing System.Linq;\nusing System.Resources;\nusing System.Xml.Linq;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        string resxFolder = Path.Combine(Directory.GetCurrentDirectory(), "Resources", "Strings");\n        var resxFiles = Directory.GetFiles(resxFolder, "AppResources.*.resx");\n\n        bool reportDuplicates = args.Contains("--report-duplicates");\n        string logFilePath = "resx-duplicates.log";\n\n        if (reportDuplicates && File.Exists(logFilePath))\n        {\n            File.Delete(logFilePath);\n        }\n\n        foreach (var file in resxFiles)\n        {\n            Console.WriteLine($"Checking {file}...");\n            var duplicateKeys = XDocument.Load(file)\n                .Descendants("data")\n                .GroupBy(x => x.Attribute("name")?.Value)\n                .Where(g => g.Count() > 1)\n                .Select(g => g.Key);\n\n            foreach (var key in duplicateKeys)\n            {\n                Console.WriteLine($"Duplicate key found: {key}");\n                if (reportDuplicates)\n                {\n                    File.AppendAllText(logFilePath, $"{file}: {key}{Environment.NewLine}");\n                }\n            }\n        }\n\n        Console.WriteLine("Validation complete.");\n        if (reportDuplicates)\n        {\n            Console.WriteLine($"Duplicate keys logged to {logFilePath}");\n        }\n    }\n}\n