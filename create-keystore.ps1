# ğŸ” KesifApp Keystore OluÅŸturma Scripti\n\nparam(\n    [string]$KeystorePath = ".\keystore\kesifapp.keystore",\n    [string]$KeyAlias = "kesifapp_key",\n    [string]$KeyPassword,\n    [string]$StorePassword,\n    [int]$ValidityDays = 10000,\n    [switch]$Help\n)\n\n# Script bilgileri\n$ScriptVersion = "1.0.0"\n$LastUpdated = "30 AÄŸustos 2025"\n\n# Renk tanÄ±mlarÄ±\n$Green = "Green"\n$Yellow = "Yellow"\n$Red = "Red"\n$Cyan = "Cyan"\n$White = "White"\n\nfunction Write-ColorOutput {\n    param(\n        [string]$Message,\n        [string]$Color = $White\n    )\n    Write-Host $Message -ForegroundColor $Color\n}\n\nfunction Show-Help {\n    Write-ColorOutput "`nğŸ” KesifApp Keystore Generator v$ScriptVersion" $Cyan\n    Write-ColorOutput "Son gÃ¼ncelleme: $LastUpdated`n" $Yellow\n\n    Write-ColorOutput "KULLANIM:" $Green\n    Write-ColorOutput "  .\create-keystore.ps1 [parametreler]`n"\n\n    Write-ColorOutput "PARAMETRELER:" $Green\n    Write-ColorOutput "  -KeystorePath <path>     Keystore dosya yolu (varsayÄ±lan: .\keystore\kesifapp.keystore)"\n    Write-ColorOutput "  -KeyAlias <alias>        Anahtar takma adÄ± (varsayÄ±lan: kesifapp_key)"\n    Write-ColorOutput "  -KeyPassword <pass>      Anahtar ÅŸifresi"\n    Write-ColorOutput "  -StorePassword <pass>    Keystore ÅŸifresi"\n    Write-ColorOutput "  -ValidityDays <days>     GeÃ§erlilik sÃ¼resi (varsayÄ±lan: 10000 gÃ¼n)"\n    Write-ColorOutput "  -Help                    Bu yardÄ±m mesajÄ±nÄ± gÃ¶sterir`n"\n\n    Write-ColorOutput "Ã–RNEKLER:" $Green\n    Write-ColorOutput "  .\create-keystore.ps1"\n    Write-ColorOutput "  .\create-keystore.ps1 -KeyPassword 'MyKeyPass123' -StorePassword 'MyStorePass123'"\n    Write-ColorOutput "  .\create-keystore.ps1 -KeystorePath '.\myapp.keystore' -ValidityDays 3650`n"\n\n    Write-ColorOutput "GÃœVENLÄ°K NOTLARI:" $Yellow\n    Write-ColorOutput "  - Åifrelerinizi gÃ¼venli bir yerde saklayÄ±n"\n    Write-ColorOutput "  - Keystore dosyasÄ±nÄ± yedekleyin"\n    Write-ColorOutput "  - Åifreleri kod iÃ§inde saklamayÄ±n"\n    Write-ColorOutput "  - DÃ¼zenli olarak keystore'u yenileyin`n"\n}\n\nfunction Test-Prerequisites {\n    Write-ColorOutput "`nğŸ” Gereksinim kontrolÃ¼ yapÄ±lÄ±yor..." $Cyan\n\n    # Java keytool kontrolÃ¼\n    try {\n        $keytoolVersion = keytool -version 2>&1\n        Write-ColorOutput "âœ… Java Keytool: $keytoolVersion" $Green\n    }\n    catch {\n        Write-ColorOutput "âŒ Java Keytool bulunamadÄ±. LÃ¼tfen JDK yÃ¼kleyin." $Red\n        return $false\n    }\n\n    Write-ColorOutput "ğŸ‰ Gereksinimler saÄŸlandÄ±!`n" $Green\n    return $true\n}\n\nfunction Create-KeystoreDirectory {\n    $keystoreDir = Split-Path $KeystorePath -Parent\n\n    if (-not (Test-Path $keystoreDir)) {\n        try {\n            New-Item -ItemType Directory -Path $keystoreDir -Force | Out-Null\n            Write-ColorOutput "ğŸ“ Keystore klasÃ¶rÃ¼ oluÅŸturuldu: $keystoreDir" $Green\n        }\n        catch {\n            Write-ColorOutput "âŒ Keystore klasÃ¶rÃ¼ oluÅŸturulamadÄ±: $($_.Exception.Message)" $Red\n            return $false\n        }\n    }\n\n    return $true\n}\n\nfunction Generate-Passwords {\n    if (-not $KeyPassword) {\n        $script:KeyPassword = -join ((65..90) + (97..122) + (48..57) | Get-Random -Count 16 | ForEach-Object {[char]$_})\n        Write-ColorOutput "ğŸ”‘ Rastgele anahtar ÅŸifresi oluÅŸturuldu" $Yellow\n    }\n\n    if (-not $StorePassword) {\n        $script:StorePassword = -join ((65..90) + (97..122) + (48..57) | Get-Random -Count 16 | ForEach-Object {[char]$_})\n        Write-ColorOutput "ğŸ” Rastgele keystore ÅŸifresi oluÅŸturuldu" $Yellow\n    }\n}\n\nfunction Create-Keystore {\n    Write-ColorOutput "`nğŸ” Keystore oluÅŸturuluyor..." $Cyan\n\n    # Sertifika bilgileri\n    $dname = "CN=KesifApp, OU=Development, O=Vahit Kirbiyik, L=Istanbul, ST=Turkey, C=TR"\n\n    $keytoolArgs = @(\n        "-genkeypair",\n        "-v",\n        "-keystore", $KeystorePath,\n        "-alias", $KeyAlias,\n        "-keyalg", "RSA",\n        "-keysize", "2048",\n        "-validity", $ValidityDays,\n        "-storepass", $StorePassword,\n        "-keypass", $KeyPassword,\n        "-dname", $dname\n    )\n\n    try {\n        & keytool $keytoolArgs\n        Write-ColorOutput "âœ… Keystore baÅŸarÄ±yla oluÅŸturuldu" $Green\n        return $true\n    }\n    catch {\n        Write-ColorOutput "âŒ Keystore oluÅŸturma baÅŸarÄ±sÄ±z: $($_.Exception.Message)" $Red\n        return $false\n    }\n}\n\nfunction Verify-Keystore {\n    Write-ColorOutput "`nğŸ” Keystore doÄŸrulanÄ±yor..." $Cyan\n\n    try {\n        $listResult = & keytool -list -v -keystore $KeystorePath -storepass $StorePassword 2>&1\n\n        if ($listResult -match $KeyAlias) {\n            Write-ColorOutput "âœ… Keystore doÄŸrulandÄ± - Anahtar bulundu: $KeyAlias" $Green\n            return $true\n        }\n        else {\n            Write-ColorOutput "âŒ Keystore doÄŸrulama baÅŸarÄ±sÄ±z - Anahtar bulunamadÄ±" $Red\n            return $false\n        }\n    }\n    catch {\n        Write-ColorOutput "âŒ Keystore doÄŸrulama hatasÄ±: $($_.Exception.Message)" $Red\n        return $false\n    }\n}\n\nfunction Show-Summary {\n    Write-ColorOutput "`nğŸŠ KEYSTORE Ã–ZETÄ°" $Cyan\n    Write-ColorOutput "=" * 50 $Cyan\n\n    Write-ColorOutput "ğŸ“ Keystore Yolu: $KeystorePath" $Green\n    Write-ColorOutput "ğŸ”‘ Anahtar Takma AdÄ±: $KeyAlias" $Green\n    Write-ColorOutput "ğŸ“… GeÃ§erlilik: $ValidityDays gÃ¼n" $Green\n    Write-ColorOutput "ğŸ” Keystore Åifresi: $StorePassword" $Yellow\n    Write-ColorOutput "ğŸ”‘ Anahtar Åifresi: $KeyPassword" $Yellow\n\n    Write-ColorOutput "`nâš ï¸  Ã–NEMLÄ° GÃœVENLÄ°K UYARILARI:" $Red\n    Write-ColorOutput "  â€¢ Bu ÅŸifreleri gÃ¼venli bir yerde saklayÄ±n" $White\n    Write-ColorOutput "  â€¢ Keystore dosyasÄ±nÄ± yedekleyin" $White\n    Write-ColorOutput "  â€¢ Åifreleri paylaÅŸmayÄ±n" $White\n    Write-ColorOutput "  â€¢ DÃ¼zenli olarak keystore'u kontrol edin" $White\n\n    Write-ColorOutput "`nğŸš€ SONRAKÄ° ADIMLAR:" $Yellow\n    Write-ColorOutput "1. Åifreleri gÃ¼venli bir yerde saklayÄ±n" $White\n    Write-ColorOutput "  Ã–rnek: password-manager, gÃ¼venli notlar" $White\n    Write-ColorOutput "2. Keystore dosyasÄ±nÄ± yedekleyin" $White\n    Write-ColorOutput "  Ã–rnek: USB drive, cloud storage (encrypted)" $White\n    Write-ColorOutput "3. Build scriptinde ÅŸifreleri kullanÄ±n" $White\n    Write-ColorOutput "  Ã–rnek: .\build-aab.ps1 -KeystorePassword '$StorePassword'" $White\n\n    Write-ColorOutput "`nğŸ“ DESTEK:" $Yellow\n    Write-ColorOutput "GitHub: https://github.com/VahitKirbiyik/KesifUygulamasiTemplate" $White\n    Write-ColorOutput "Issues: https://github.com/VahitKirbiyik/KesifUygulamasiTemplate/issues" $White\n}\n\nfunction Save-Passwords {\n    $passwordFile = Join-Path (Split-Path $KeystorePath -Parent) "keystore-passwords.txt"\n\n    try {\n        $passwordContent = @"\n# KesifApp Keystore Åifreleri\n# OluÅŸturulma Tarihi: $(Get-Date -Format "yyyy-MM-dd HH:mm:ss")\n# GeÃ§erlilik SÃ¼resi: $ValidityDays gÃ¼n\n\nKEYSTORE_PATH=$KeystorePath\nKEY_ALIAS=$KeyAlias\nSTORE_PASSWORD=$StorePassword\nKEY_PASSWORD=$KeyPassword\n\n# GÃœVENLÄ°K UYARISI:\n# Bu dosyayÄ± gÃ¼venli bir yerde saklayÄ±n\n# Åifreleri kod iÃ§inde kullanmayÄ±n\n# DÃ¼zenli olarak ÅŸifreleri deÄŸiÅŸtirin\n"@\n\n        $passwordContent | Out-File -FilePath $passwordFile -Encoding UTF8\n        Write-ColorOutput "ğŸ’¾ Åifreler kaydedildi: $passwordFile" $Green\n        Write-ColorOutput "âš ï¸  Bu dosyayÄ± gÃ¼venli bir yerde saklayÄ±n!" $Red\n    }\n    catch {\n        Write-ColorOutput "âŒ Åifre dosyasÄ± kaydedilemedi: $($_.Exception.Message)" $Yellow\n    }\n}\n\n# Ana script mantÄ±ÄŸÄ±\nfunction Main {\n    if ($Help) {\n        Show-Help\n        return\n    }\n\n    Write-ColorOutput "`nğŸš€ KesifApp Keystore Generator baÅŸlatÄ±lÄ±yor..." $Cyan\n    Write-ColorOutput "Versiyon: $ScriptVersion | Tarih: $LastUpdated" $Yellow\n\n    # Gereksinim kontrolÃ¼\n    if (-not (Test-Prerequisites)) {\n        Write-ColorOutput "`nâŒ Gereksinimler saÄŸlanamadÄ±. Script durduruluyor." $Red\n        exit 1\n    }\n\n    # Keystore klasÃ¶rÃ¼ oluÅŸtur\n    if (-not (Create-KeystoreDirectory)) {\n        exit 1\n    }\n\n    # Åifreleri oluÅŸtur\n    Generate-Passwords\n\n    # Keystore oluÅŸtur\n    if (-not (Create-Keystore)) {\n        exit 1\n    }\n\n    # Keystore doÄŸrula\n    if (-not (Verify-Keystore)) {\n        exit 1\n    }\n\n    # Åifreleri kaydet\n    Save-Passwords\n\n    # Ã–zet gÃ¶ster\n    Show-Summary\n\n    Write-ColorOutput "`nğŸ‰ KesifApp keystore baÅŸarÄ±yla oluÅŸturuldu!" $Green\n    Write-ColorOutput "ArtÄ±k uygulamalarÄ±nÄ±zÄ± imzalayabilirsiniz! ğŸ”`n" $Green\n}\n\n# Script'i Ã§alÄ±ÅŸtÄ±r\nMain\n