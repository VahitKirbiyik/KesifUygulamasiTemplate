using Microsoft.Maui.Devices.Sensors;\nusing System;\nusing KesifUygulamasiTemplate.Services.Interfaces;\n\nnamespace KesifUygulamasiTemplate.Services;\n\npublic class CompassService : ICompassService\n{\n    public event Action<double>? HeadingChanged;\n\n    public bool IsMonitoring => Compass.IsMonitoring;\n    public bool IsSupported => Compass.IsSupported;\n\n    public void Start()\n    {\n        Compass.ReadingChanged += (s, e) =>\n        {\n            HeadingChanged?.Invoke(e.Reading.HeadingMagneticNorth);\n        };\n        Compass.Start(SensorSpeed.UI);\n    }\n\n    public void Stop()\n    {\n        Compass.Stop();\n    }\n}\n