using System.Threading.Tasks;\nusing Microsoft.Maui.Controls;\nusing KesifUygulamasiTemplate.Services.Interfaces;\n\nnamespace KesifUygulamasiTemplate.Services\n{\n    public class LocationPrivacyService : ILocationPrivacyService\n    {\n        private readonly IPreferencesService _preferencesService;\n\n        public LocationPrivacyService(IPreferencesService preferencesService)\n        {\n            _preferencesService = preferencesService;\n        }\n\n        public async Task<bool> RequestLocationPermissionWithPrivacyInfoAsync()\n        {\n            var hasShownInfo = _preferencesService.Get("HasShownLocationPrivacyInfo", false);\n\n            if (!hasShownInfo)\n            {\n                bool userConsent = await Shell.Current.DisplayAlert(\n                    "Konum �zni",\n                    "Konumunuz yaln�zca uygulama i�inde kullan�l�r ve ���nc� taraflarla payla��lmaz. Devam etmek istiyor musunuz?",\n                    "�zin Ver", "Reddet");\n\n                if (!userConsent)\n                    return false;\n\n                _preferencesService.Set("HasShownLocationPrivacyInfo", true);\n            }\n\n            var status = await Permissions.RequestAsync<Permissions.LocationWhenInUse>();\n            return status == PermissionStatus.Granted;\n        }\n\n        public async Task ForgetAllLocationDataAsync()\n        {\n            // Kullan�c�n�n t�m konum verilerini sil\n            await Task.CompletedTask;\n        }\n    }\n}\n