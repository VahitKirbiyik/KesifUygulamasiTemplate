using System;\nusing System.Threading.Tasks;\nusing Microsoft.Maui.Controls;\nusing Microsoft.Maui.Storage;\n\nnamespace KesifUygulamasiTemplate.Services\n{\n    public class PushNotificationService\n    {\n        private const string PushPrefKey = "PushNotificationsEnabled";\n        public bool IsPushEnabled { get; private set; }\n\n        public PushNotificationService()\n        {\n            IsPushEnabled = Preferences.Get(PushPrefKey, true);\n        }\n\n        public void SetPushEnabled(bool enabled)\n        {\n            IsPushEnabled = enabled;\n            Preferences.Set(PushPrefKey, enabled);\n            // Platforma özel enable/disable işlemleri burada yapılabilir\n        }\n\n        public void OnNotificationReceived(string title, string message, string targetPage = null)\n        {\n            // Bildirim tıklanınca ilgili sayfaya yönlendirme\n            if (!string.IsNullOrEmpty(targetPage))\n            {\n                Device.BeginInvokeOnMainThread(async () =>\n                {\n                    await Shell.Current.GoToAsync(targetPage);\n                });\n            }\n        }\n\n        public async Task SendLocalNotificationAsync(string title, string message, string targetPage = null)\n        {\n            // Burada platforma özel local notification gösterimi yapılabilir\n            // Gelişmiş push için platforma özel kod veya eklenti gerekir\n            await Task.CompletedTask;\n        }\n\n        #region Bildirim İçerik Örnekleri\n\n        /// <summary>\n        /// Navigasyon bildirimleri için hazır içerik\n        /// </summary>\n        public async Task SendNavigationNotificationAsync(string destinationName, double distanceKm)\n        {\n            var title = "🗺️ Navigasyon Rehberi";\n            var message = $"{destinationName} hedefinize {distanceKm:F1} km kaldı. Yol tarifi için dokunun.";\n            var targetPage = "//route";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Hava durumu bildirimleri\n        /// </summary>\n        public async Task SendWeatherAlertAsync(string condition, double temperature)\n        {\n            var title = "🌤️ Hava Durumu Uyarısı";\n            var message = $"Mevcut hava durumu: {condition}, Sıcaklık: {temperature:F1}°C";\n            var targetPage = "//weather";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Acil durum noktası yakınına geldiğinde\n        /// </summary>\n        public async Task SendEmergencyPointNotificationAsync(string pointName, string pointType)\n        {\n            var title = "🚨 Acil Nokta Yakınında";\n            var message = $"{pointName} ({pointType}) yakınına geldiniz. Güvenliğiniz için dikkatli olun.";\n            var targetPage = "//emergency";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Favori yer hatırlatması\n        /// </summary>\n        public async Task SendFavoritePlaceReminderAsync(string placeName, double distanceKm)\n        {\n            var title = "⭐ Favori Yer Hatırlatması";\n            var message = $"{placeName} favori yeriniz {distanceKm:F1} km yakınızda!";\n            var targetPage = "//favorites";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Ay pusulası hatırlatması\n        /// </summary>\n        public async Task SendMoonCompassReminderAsync(string moonPhase, double illumination)\n        {\n            var title = "🌙 Ay Pusulası";\n            var message = $"Ay fazı: {moonPhase} (Aydınlanma: %{illumination:F0})";\n            var targetPage = "//mooncompass";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Trafik durumu uyarısı\n        /// </summary>\n        public async Task SendTrafficAlertAsync(string roadName, string condition)\n        {\n            var title = "🚦 Trafik Uyarısı";\n            var message = $"{roadName} yolunda {condition}";\n            var targetPage = "//traffic";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Konum paylaşımı hatırlatması\n        /// </summary>\n        public async Task SendLocationSharingReminderAsync()\n        {\n            var title = "📍 Konum Paylaşımı";\n            var message = "Konumunuzu arkadaşlarınızla paylaşıyorsunuz. Gizlilik ayarlarınızı kontrol edin.";\n            var targetPage = "//settings";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Offline harita güncelleme hatırlatması\n        /// </summary>\n        public async Task SendOfflineMapUpdateReminderAsync()\n        {\n            var title = "🗺️ Offline Harita";\n            var message = "Offline haritalarınız güncel değil. Güncelleme için dokunun.";\n            var targetPage = "//offline";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Uygulama güncelleme bildirimi\n        /// </summary>\n        public async Task SendAppUpdateNotificationAsync(string version)\n        {\n            var title = "⬆️ Güncelleme Mevcut";\n            var message = $"Yeni sürüm {version} mevcut! Güncelleme için App Store/Google Play'e gidin.";\n            var targetPage = "//settings";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        /// <summary>\n        /// Güvenlik uyarısı\n        /// </summary>\n        public async Task SendSecurityAlertAsync(string alertType)\n        {\n            var title = "🔒 Güvenlik Uyarısı";\n            var message = $"{alertType} nedeniyle güvenlik önlemleri aktif edildi.";\n            var targetPage = "//security";\n\n            await SendLocalNotificationAsync(title, message, targetPage);\n        }\n\n        #endregion\n    }\n}\n