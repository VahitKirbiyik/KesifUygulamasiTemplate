# PWA Test Sistemi Veri YapÄ±larÄ±

Bu dokÃ¼mantasyon, Test-PWA.ps1 sistemi tarafÄ±ndan kullanÄ±lan JSON veri yapÄ±larÄ±nÄ± detaylÄ± olarak aÃ§Ä±klar.

## ğŸ“‹ Genel BakÄ±ÅŸ

Sistem Ã¼Ã§ ana JSON dosyasÄ± kullanÄ±r:
- `pwa-test-results.json`: En son test sonuÃ§larÄ±
- `test-history.json`: Test geÃ§miÅŸi ve trend analizi
- `pwa-dashboard.html`: Ä°nteraktif dashboard (HTML/JS)

## ğŸ“„ pwa-test-results.json

En son PWA testinin detaylÄ± sonuÃ§larÄ±nÄ± iÃ§erir.

### Åema YapÄ±sÄ±

```json
{
  "metadata": {
    "timestamp": "2025-08-30T09:00:00Z",
    "script_version": "4.0",
    "test_duration_seconds": 45.2,
    "hostname": "DESKTOP-F8M2K05",
    "username": "VAHIT",
    "powershell_version": "5.1.26100.4768",
    "os_version": "Microsoft Windows NT 10.0.26100.0"
  },
  "summary": {
    "success_rate": 85,
    "passed_tests": 17,
    "failed_tests": 3,
    "skipped_tests": 0,
    "total_tests": 20,
    "test_duration": "00:00:45.2000000",
    "average_response_time": 0.18,
    "tests_per_second": 5.69
  },
  "performance_metrics": {
    "test_duration": "00:00:45.2000000",
    "average_response_time": 0.18,
    "tests_per_second": 5.69,
    "script_version": "4.0",
    "hostname": "DESKTOP-F8M2K05",
    "username": "VAHIT"
  },
  "detailed_results": {
    "manifest_test": {
      "status": "passed|failed|skipped",
      "score": 95,
      "details": "Manifest.json valid and complete",
      "category": "basic",
      "criticality": "high"
    },
    "service_worker_test": {
      "status": "passed|failed|skipped",
      "score": 0,
      "details": "Service Worker registration failed",
      "category": "basic",
      "criticality": "high"
    }
  },
  "categories": {
    "basic": {
      "passed": 4,
      "failed": 1,
      "skipped": 0,
      "total": 5,
      "success_rate": 80
    },
    "performance": {
      "passed": 3,
      "failed": 0,
      "skipped": 0,
      "total": 3,
      "success_rate": 100
    },
    "security": {
      "passed": 5,
      "failed": 1,
      "skipped": 0,
      "total": 6,
      "success_rate": 83.33
    },
    "seo": {
      "passed": 3,
      "failed": 1,
      "skipped": 0,
      "total": 4,
      "success_rate": 75
    },
    "legal": {
      "passed": 2,
      "failed": 0,
      "skipped": 0,
      "total": 2,
      "success_rate": 100
    }
  },
  "recommendations": [
    "Manifest.json dosyasÄ±nÄ± kontrol edin ve gerekli alanlarÄ± ekleyin",
    "Service Worker dosyasÄ±nÄ± oluÅŸturun ve temel event handler'larÄ± ekleyin",
    "HTML sayfalarÄ±na PWA meta etiketlerini ekleyin",
    "HTTPS protokolÃ¼nÃ¼ kullanÄ±n"
  ]
}
```

### Alan AÃ§Ä±klamalarÄ±

#### metadata
| Alan | Tip | AÃ§Ä±klama |
|------|-----|----------|
| `timestamp` | string | Test Ã§alÄ±ÅŸtÄ±rma zamanÄ± (ISO 8601 format) |
| `script_version` | string | KullanÄ±lan script versiyonu |
| `test_duration_seconds` | number | Test toplam sÃ¼resi (saniye) |
| `hostname` | string | Test Ã§alÄ±ÅŸtÄ±ÄŸÄ± bilgisayar adÄ± |
| `username` | string | Testi Ã§alÄ±ÅŸtÄ±ran kullanÄ±cÄ± |
| `powershell_version` | string | PowerShell versiyonu |
| `os_version` | string | Ä°ÅŸletim sistemi versiyonu |

#### summary
| Alan | Tip | AÃ§Ä±klama |
|------|-----|----------|
| `success_rate` | number | Genel baÅŸarÄ± oranÄ± (yÃ¼zde) |
| `passed_tests` | number | GeÃ§en test sayÄ±sÄ± |
| `failed_tests` | number | BaÅŸarÄ±sÄ±z test sayÄ±sÄ± |
| `skipped_tests` | number | Atlanan test sayÄ±sÄ± |
| `total_tests` | number | Toplam test sayÄ±sÄ± |
| `test_duration` | string | Test sÃ¼resi (.NET TimeSpan format) |
| `average_response_time` | number | Ortalama yanÄ±t sÃ¼resi (saniye) |
| `tests_per_second` | number | Saniye baÅŸÄ±na test sayÄ±sÄ± |

#### detailed_results
Her test iÃ§in detaylÄ± sonuÃ§larÄ± iÃ§erir.

| Alan | Tip | AÃ§Ä±klama |
|------|-----|----------|
| `status` | string | Test durumu: "passed", "failed", "skipped" |
| `score` | number | Test puanÄ± (0-100) |
| `details` | string | Test sonucu aÃ§Ä±klamasÄ± |
| `category` | string | Test kategorisi |
| `criticality` | string | Kritiklik seviyesi: "high", "medium", "low" |

#### categories
Test kategorilerine gÃ¶re Ã¶zet sonuÃ§lar.

| Alan | Tip | AÃ§Ä±klama |
|------|-----|----------|
| `passed` | number | Kategoride geÃ§en test sayÄ±sÄ± |
| `failed` | number | Kategoride baÅŸarÄ±sÄ±z test sayÄ±sÄ± |
| `skipped` | number | Kategoride atlanan test sayÄ±sÄ± |
| `total` | number | Kategoride toplam test sayÄ±sÄ± |
| `success_rate` | number | Kategori baÅŸarÄ± oranÄ± |

## ğŸ“„ test-history.json

Test geÃ§miÅŸini ve trend analizini iÃ§erir.

### Åema YapÄ±sÄ±

```json
{
  "test_runs": [
    {
      "timestamp": "2025-08-30T09:00:00Z",
      "success_rate": 85,
      "passed_tests": 17,
      "failed_tests": 3,
      "skipped_tests": 0,
      "total_tests": 20,
      "duration_seconds": 45.2,
      "script_version": "4.0",
      "hostname": "DESKTOP-F8M2K05",
      "username": "VAHIT"
    }
  ],
  "trend_analysis": {
    "direction": "improving|declining|stable",
    "change_percent": 5.2,
    "average_last_5": 82.4,
    "confidence": "high|medium|low",
    "last_5_rates": [80, 82, 85, 87, 85],
    "data_points": 5,
    "analysis_timestamp": "2025-08-30T09:00:00Z"
  },
  "statistics": {
    "total_runs": 15,
    "average_success_rate": 78.5,
    "best_run": {
      "timestamp": "2025-08-25T09:00:00Z",
      "success_rate": 95
    },
    "worst_run": {
      "timestamp": "2025-08-20T09:00:00Z",
      "success_rate": 65
    },
    "consistency_score": 85.2
  }
}
```

### Alan AÃ§Ä±klamalarÄ±

#### test_runs
GeÃ§miÅŸ test Ã§alÄ±ÅŸtÄ±rmalarÄ±nÄ±n listesi.

| Alan | Tip | AÃ§Ä±klama |
|------|-----|----------|
| `timestamp` | string | Test Ã§alÄ±ÅŸtÄ±rma zamanÄ± |
| `success_rate` | number | BaÅŸarÄ± oranÄ± |
| `passed_tests` | number | GeÃ§en test sayÄ±sÄ± |
| `failed_tests` | number | BaÅŸarÄ±sÄ±z test sayÄ±sÄ± |
| `skipped_tests` | number | Atlanan test sayÄ±sÄ± |
| `total_tests` | number | Toplam test sayÄ±sÄ± |
| `duration_seconds` | number | Test sÃ¼resi |
| `script_version` | string | Script versiyonu |
| `hostname` | string | Bilgisayar adÄ± |
| `username` | string | KullanÄ±cÄ± adÄ± |

#### trend_analysis
Trend analiz sonuÃ§larÄ±.

| Alan | Tip | AÃ§Ä±klama |
|------|-----|----------|
| `direction` | string | Trend yÃ¶nÃ¼: "improving", "declining", "stable" |
| `change_percent` | number | YÃ¼zde deÄŸiÅŸim oranÄ± |
| `average_last_5` | number | Son 5 test ortalamasÄ± |
| `confidence` | string | GÃ¼venilirlik seviyesi |
| `last_5_rates` | array | Son 5 baÅŸarÄ± oranÄ± |
| `data_points` | number | Analiz edilen veri noktasÄ± sayÄ±sÄ± |
| `analysis_timestamp` | string | Analiz zamanÄ± |

#### statistics
Genel istatistikler.

| Alan | Tip | AÃ§Ä±klama |
|------|-----|----------|
| `total_runs` | number | Toplam test Ã§alÄ±ÅŸtÄ±rma sayÄ±sÄ± |
| `average_success_rate` | number | Ortalama baÅŸarÄ± oranÄ± |
| `best_run` | object | En iyi test sonucu |
| `worst_run` | object | En kÃ¶tÃ¼ test sonucu |
| `consistency_score` | number | TutarlÄ±lÄ±k puanÄ± |

## ğŸ”„ Veri AkÄ±ÅŸÄ±

### Test Ã‡alÄ±ÅŸtÄ±rma SÃ¼reci

1. **Test BaÅŸlatma**: Script Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r
2. **Veri Toplama**: Test sonuÃ§larÄ± toplanÄ±r
3. **JSON OluÅŸturma**: pwa-test-results.json oluÅŸturulur
4. **GeÃ§miÅŸ GÃ¼ncelleme**: test-history.json gÃ¼ncellenir
5. **Trend Analizi**: Trend hesaplamasÄ± yapÄ±lÄ±r
6. **Dashboard GÃ¼ncelleme**: HTML dashboard yenilenir
7. **Webhook Bildirimleri**: Slack/Discord bildirimleri gÃ¶nderilir

### Otomatik GÃ¼ncellemeler

- **GitHub Actions**: HaftalÄ±k otomatik testler
- **README GÃ¼ncelleme**: Trend raporu otomatik gÃ¼ncelleme
- **Badge GÃ¼ncelleme**: Otomatik badge rengi gÃ¼ncellemeleri
- **Webhook Bildirimleri**: BaÅŸarÄ±sÄ±zlÄ±k durumunda otomatik bildirim

## ğŸ“Š KullanÄ±m Ã–rnekleri

### PowerShell ile Veri Okuma

```powershell
# Test sonuÃ§larÄ±nÄ± oku
$results = Get-Content "pwa-test-results.json" | ConvertFrom-Json

# BaÅŸarÄ± oranÄ±nÄ± al
$successRate = $results.summary.success_rate

# Trend analizini oku
$history = Get-Content "test-history.json" | ConvertFrom-Json
$trend = $history.trend_analysis.direction
```

### JavaScript ile Dashboard Entegrasyonu

```javascript
// JSON verilerini yÃ¼kle
fetch('pwa-test-results.json')
  .then(response => response.json())
  .then(data => {
    const successRate = data.summary.success_rate;
    const passedTests = data.summary.passed_tests;

    // Dashboard'u gÃ¼ncelle
    updateDashboard(successRate, passedTests);
  });
```

## ğŸ”§ BakÄ±m ve GÃ¼ncelleme

### Veri TemizliÄŸi

```powershell
# Eski test geÃ§miÅŸini temizle (30 gÃ¼nden eski)
$history = Get-Content "test-history.json" | ConvertFrom-Json
$cutoffDate = (Get-Date).AddDays(-30)

$history.test_runs = $history.test_runs | Where-Object {
  [DateTime]::Parse($_.timestamp) -gt $cutoffDate
}

$history | ConvertTo-Json -Depth 10 | Set-Content "test-history.json"
```

### Åema GÃ¼ncellemeleri

- Yeni test kategorileri eklendiÄŸinde `categories` alanÄ±nÄ± gÃ¼ncelleyin
- Yeni metrikler eklendiÄŸinde `performance_metrics` alanÄ±nÄ± geniÅŸletin
- Trend analiz algoritmasÄ± deÄŸiÅŸtiÄŸinde `trend_analysis` yapÄ±sÄ±nÄ± gÃ¼ncelleyin

## ğŸ“ SÃ¼rÃ¼m GeÃ§miÅŸi

### v4.0 (GÃ¼ncel)
- DetaylÄ± kategori bazlÄ± sonuÃ§lar
- GeliÅŸmiÅŸ trend analizi
- Sistem bilgisi metadata'sÄ±
- GÃ¼venilirlik skoru hesaplama

### v3.0
- Temel JSON export Ã¶zelliÄŸi
- Basit trend analizi
- Webhook bildirim desteÄŸi

### v2.0
- Ä°lk JSON ÅŸemasÄ±
- Temel test sonuÃ§larÄ±
- CSV export desteÄŸi

---

*Bu ÅŸema dokÃ¼mantasyonu Test-PWA.ps1 v4.0 iÃ§in hazÄ±rlanmÄ±ÅŸtÄ±r.*
