using System;\nusing System.Collections.Generic;\nusing SQLite;\nusing Microsoft.Maui.Devices.Sensors;\nusing KesifUygulamasiTemplate.Services;\n\nnamespace KesifUygulamasiTemplate.Models\n{\n    /// <summary>\n    /// Kaydedilmiş rotayı temsil eder\n    /// </summary>\n    [Table("SavedRoutes")]\n    public class SavedRoute\n    {\n        [PrimaryKey, AutoIncrement]\n        public int Id { get; set; }\n\n        public string Name { get; set; } = string.Empty;\n\n        public string Description { get; set; } = string.Empty;\n\n        public double StartLatitude { get; set; }\n\n        public double StartLongitude { get; set; }\n\n        public double EndLatitude { get; set; }\n\n        public double EndLongitude { get; set; }\n\n        public double DistanceKm { get; set; }\n\n        public TimeSpan EstimatedDuration { get; set; }\n\n        public string TransportMode { get; set; } = "Driving";\n\n        public List<Location> Points { get; set; } = new List<Location>();\n\n        public DateTime CreatedAt { get; set; } = DateTime.UtcNow;\n\n        public DateTime LastModified { get; set; } = DateTime.UtcNow;\n\n        /// <summary>\n        /// Route nesnesine dönüştürür\n        /// </summary>\n        public Route ToRoute()\n        {\n            return new Route\n            {\n                RouteId = this.Id.ToString(),\n                Start = new Location(this.StartLatitude, this.StartLongitude),\n                End = new Location(this.EndLatitude, this.EndLongitude),\n                Path = this.Points ?? new List<Location>(),\n                DistanceKm = this.DistanceKm,\n                Duration = this.EstimatedDuration,\n                TransportMode = Enum.Parse<TransportMode>(this.TransportMode),\n                Points = this.Points ?? new List<Location>(),\n                Distance = this.DistanceKm\n            };\n        }\n\n        /// <summary>\n        /// Route nesnesinden SavedRoute oluşturur\n        /// </summary>\n        public static SavedRoute FromRoute(Route route)\n        {\n            return new SavedRoute\n            {\n                Name = $"Route {DateTime.Now:yyyy-MM-dd HH:mm}",\n                Description = $"From {route.Start.Latitude:F4}, {route.Start.Longitude:F4} to {route.End.Latitude:F4}, {route.End.Longitude:F4}",\n                StartLatitude = route.Start.Latitude,\n                StartLongitude = route.Start.Longitude,\n                EndLatitude = route.End.Latitude,\n                EndLongitude = route.End.Longitude,\n                DistanceKm = route.DistanceKm,\n                EstimatedDuration = route.Duration,\n                TransportMode = route.TransportMode.ToString(),\n                Points = route.Path ?? new List<Location>(),\n                CreatedAt = DateTime.UtcNow,\n                LastModified = DateTime.UtcNow\n            };\n        }\n    }\n}